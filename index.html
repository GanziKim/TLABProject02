<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" type="text/css" href="css/common.css">
<script src="js/jquery-1.11.3.min.js"></script>
<script type="text/javascript">
	/* 초기화에 사용될 변수와 값 */
	var headerImage = "images/tab_1_on.png";
	var bodyImage = "images/info_1_1020x517.jpg";
	var footer = "images/ms_btn.png";
	var upDown = 1;
	var headerImageMove = 1;
	var bodyImageMove = 1;
	
	var $body = "<div><div class='addingBodyBallonImage'><img><img></div><div class='addingBodyPosterImage'><img></div><div class='addingBodyFooterImage'><img></div></div>";

	$(function() { //$(document).ready(function(){ }) 와 같음

		Drawing(headerImageMove); //페이지 로딩시 실행

		document.addEventListener('keydown', keydownhandler);
	});

	function Drawing(headerImageMove) {
		headerImageMove = (headerImageMove <= 0 ? 2 - (headerImageMove * (-1) % 3) : (headerImageMove - 1) % 3);
		switch (headerImageMove) {
		case 0:
			$("#headerImage").attr("src", "images/tab_1_on.png"); /* header */
			$("#addingGiftBodyImage").empty();
			$("#bodyImage").attr("src", bodyImage); /* body */
			$("#footerImage>a>img").attr("src", footer);  /* footer */
			break;
		case 1:
			$("#headerImage").attr("src", "images/tab_2_on.png"); /* header */
			
			/* body */
			$("#bodyImage").attr("src", "images/gift_bg.png");
			for(var i = 1; i <6; i++){
				$("#addingGiftBodyImage").append($body);
				$(".addingBodyBallonImage>img:nth-child(1)").attr("src", "images/textballoon_unfocus.png");
				$(".addingBodyBallonImage>img:nth-child(2)").attr("src", "images/icon_s_w_54x23.png");
				$("#addingGiftBodyImage>div:nth-child("+i+")>.addingBodyPosterImage>img").attr("src", "images/Poster_img"+i+".png");
				$(".addingBodyFooterImage>img").attr("src", "images/poster_sh.png");
			}
			$("#footerImage>a>img").attr("src", footer); /* footer */
			$("#addingGiftBodyImage").show();
			break;
		case 2:
			$("#headerImage").attr("src", "images/tab_3_on.png"); /* header */
			$("#addingGiftBodyImage").empty();
			$("#bodyImage").attr("src", "images/info_3_1020x517.jpg");  /* body */
			$("#footerImage>a>img").attr("src", footer);  /* footer */
			break;
		}
	}
	function locking(lockImageNum, upDown) {
		console.log
		lockImageNum = 	(lockImageNum <= 0 ? 2 - (lockImageNum * (-1) % 3) : (lockImageNum - 1) % 3)
		if(upDown == 1){
		$("#headerImage").attr('src',"images/tab_" + (lockImageNum+1) + "_sel.png")
		}else if(upDown == 2){
			$("#headerImage").attr('src',	"images/tab_" + (lockImageNum+1) + "_on.png")
		}
	}

	function bodyDrawing(upDown, focusImage){
		console.log(focusImage);
		if(upDown != 2 ){
			$(".addingBodyBallonImage>img:nth-child(1)").attr("src","images/textballoon_unfocus.png")
		}else{
			$("#addingGiftBodyImage>div:nth-child("+(focusImage-1)+")>div:nth-child(1)>img:nth-child(1)").attr("src","images/textballoon_unfocus.png")
			$("#addingGiftBodyImage>div:nth-child("+(focusImage+1)+")>div:nth-child(1)>img:nth-child(1)").attr("src","images/textballoon_unfocus.png")
			$("#addingGiftBodyImage>div:nth-child("+focusImage+")>div:nth-child(1)>img:nth-child(1)").attr("src","images/textballoon_focus.png")
		}
		
		if(upDown != 3){
			$("#footerImage>a>img").attr('src','images/ms_btn.png');
		}else{
			$("#footerImage>a>img").attr('src','images/ms_btn_f.png');
		}
	}

	function keydownhandler(event) {
		switch (event.keyCode) {
		case 37:
			if (upDown == 1) {
				Drawing(--headerImageMove);
			} else if (upDown == 2) {
				
				bodyDrawing(2, --bodyImageMove);
			} else if (upDown == 3) {

			}
			break;
		case 38:
			if (upDown == 1) {
				
			} else if (upDown == 2) {
				locking(headerImageMove, upDown);
				--upDown;
				bodyDrawing(upDown, bodyImageMove);
			} else if (upDown == 3) {
				--upDown;
				bodyDrawing(upDown, null);
			}
			break;
		case 39:
			if (upDown == 1) {
				Drawing(++headerImageMove);
			} else if (upDown == 2) {
				bodyDrawing(2, ++bodyImageMove);
			} else if (upDown == 3) {

			}
			break;
		case 40:
			if (upDown == 1) {
				locking(headerImageMove, upDown);
				++upDown;
				bodyDrawing(upDown, 1);
			} else if (upDown == 2) {
				++upDown;
				bodyDrawing(upDown, null);
			} else if (upDown == 3) {
				
			}
			break;
		}
	}
</script>
</head>
<body>
	<div id="main">
		<header>
			<!-- header -->
			<span><img id="headerImage"></span> <span><img
				src="images/icon_b_74x30.png"></span>
		</header>

		<article>
			<!-- body -->
			<span><img id="bodyImage"></span>
			
			<div id="addingGiftBodyImage">  <!-- 선물교환 페이지에서만 등장 -->
				
			</div>
			
		</article>

		<footer>
			<!-- footer -->
			<span id="footerImage"><a href="#"><img></a></span>
		</footer>
		<div id="test">
		</div>
	</div>
</body>